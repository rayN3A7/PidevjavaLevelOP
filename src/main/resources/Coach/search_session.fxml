<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="675.0" prefWidth="1018.0" style="-fx-background-color: linear-gradient(to bottom, #091221, #0236a5);" xmlns="http://javafx.com/javafx/20.0.2" xmlns:fx="http://javafx.com/fxml/1" fx:controller="tn.esprit.Controllers.Coach.SearchSessionController">

    <!-- Top: Inclure la barre de navigation -->
    <top>
        <fx:include source="../forumUI/navbar.fxml" />
    </top>

    <!-- Center: Contenu principal -->
    <center>
        <HBox spacing="50" style="-fx-padding: 50px; -fx-alignment: center;">
            <!-- Section de recherche par coach -->
            <VBox prefHeight="450.0" prefWidth="420.0" spacing="20" style="-fx-padding: 30px; -fx-alignment: center; -fx-background-color: rgba(5,133,230,0.85); -fx-background-radius: 20px; -fx-border-radius: 20px; -fx-effect: dropshadow(gaussian, rgba(2,54,165,0.7), 15, 0.6, 0, 6);">
                <Label prefHeight="32.0" prefWidth="384.0" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: white;" text="🔍 Rechercher Session par Coach" />

                <!-- GridPane pour le formulaire -->
                <GridPane hgap="12" vgap="15">
                    <Label style="-fx-font-size: 16px; -fx-text-fill: white;" text="Nom du Coach:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <ComboBox fx:id="coachIdField" promptText="Selectionner coach" style="-fx-pref-width: 200px; -fx-font-size: 14px; -fx-background-color: white; -fx-border-radius: 8px;" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                    <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints />
                    </rowConstraints>
                </GridPane>

                <!-- Bouton de recherche -->
                <Button fx:id="searchButton" onAction="#searchSessionsByCoach" prefHeight="44.0" prefWidth="180.0" style="-fx-background-color: linear-gradient(to right, #fe0369, #ff6699); -fx-text-fill: white; -fx-font-size: 16px; -fx-background-radius: 12px; -fx-border-radius: 12px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0.4, 0, 4);" text="Rechercher" />

                <!-- Label pour les résultats -->
                <Label fx:id="resultLabel" style="-fx-font-size: 14px; -fx-text-fill: white; -fx-padding: 10px; -fx-background-color: rgba(255,255,255,0.2); -fx-border-radius: 10px; -fx-background-radius: 10px;" text="Les détails des sessions apparaîtront ici." wrapText="true" />
            </VBox>

            <!-- Section pour afficher toutes les sessions -->
            <VBox prefHeight="450.0" prefWidth="420.0" spacing="20" style="-fx-padding: 30px; -fx-alignment: center; -fx-background-color: rgba(5,133,230,0.85); -fx-background-radius: 20px; -fx-border-radius: 20px; -fx-effect: dropshadow(gaussian, rgba(2,54,165,0.7), 15, 0.6, 0, 6);">
                <Label style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: white;" text="📋 Toutes les Sessions" />

                <!-- Bouton pour afficher toutes les sessions -->
                <Button onAction="#showSessions" prefHeight="44.0" prefWidth="180.0" style="-fx-background-color: linear-gradient(to right, #2980B9, #6DD5FA); -fx-text-fill: white; -fx-font-size: 16px; -fx-background-radius: 12px; -fx-border-radius: 12px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0.4, 0, 4);" text="Afficher Sessions" />

                <!-- TextArea pour afficher les sessions -->
                <TextArea fx:id="sessionsTextArea" editable="false" style="-fx-background-color: rgba(255,255,255,0.2); -fx-border-radius: 10px; -fx-background-radius: 10px; -fx-font-size: 14px; -fx-text-fill: black; -fx-pref-height: 150px; -fx-pref-width: 350px;" />
            </VBox>
        </HBox>
    </center>

    <!-- Bottom: Boutons de navigation -->
    <bottom>
        <HBox alignment="CENTER" spacing="20" style="-fx-padding: 10px;">
            <Button onAction="#session" prefHeight="50.0" prefWidth="102.0" style="-fx-background-color: linear-gradient(to right, #2980B9, #6DD5FA); -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 12px; -fx-background-radius: 12px; -fx-border-radius: 12px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0.4, 0, 4);" text="Précedent" />
            <Button onAction="#reservation" prefHeight="50.0" prefWidth="88.0" style="-fx-background-color: linear-gradient(to right, #2980B9, #6DD5FA); -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 12px; -fx-background-radius: 12px; -fx-border-radius: 12px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0.4, 0, 4);" text="Suivant" />
            <Button onAction="#Coach" prefHeight="50.0" prefWidth="88.0" style="-fx-background-color: linear-gradient(to right, #2980B9, #6DD5FA); -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 12px; -fx-background-radius: 12px; -fx-border-radius: 12px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0.4, 0, 4);" text="Ajouter Session" />
        </HBox>
    </bottom>

</BorderPane>
